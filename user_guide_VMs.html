<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/github.css" media="screen" />
</head>
<body>
<h1>Euca2ools' how to - VM managing</h1>

<p>The purpose of this "how to" is to give the basic tools for managing your own set of virtual machines.
For a more complete documentation see also:</p>

<ul>
<li><a href="http://www.eucalyptus.com/docs/eucalyptus/3.3/console-guide/" title="Eucaliptus User Guide">This Guide</a></li>
<li><a href="https://aws.amazon.com/ec2/faqs/" title="Amazon EC2 FAQ">These FAQs</a></li>
</ul>

<p><em>Please note that from this point forward, we assume that you have an active account on the
cloud, with EC2 credentials and environment variables properly configured.
If you are having problems setting them up please follow <a href="link/to/guide" title="Setup the environment.">this link</a> 
or contact your system adminsitrator.</em></p>

<h2>1. "euca-describe-images" List the VM images available.</h2>

<p>Example:</p>

<pre><code>[user@one-master]$ euca-describe-images
IMAGE   ami-00000304    cvm-2.7.1       oneadmin    available   public      i386    machine
IMAGE   ami-00000322    cvm-2.7.1-ami   oneadmin    available   public      i386    machine
</code></pre>

<p>This will list all the images you can run. The unique ID "ami-xxxxxxxx" is the parameter you need to specify
in order to run the chosen image.</p>

<p><em>Tip: The Euca2ools don't use OpenNebula's identification codes, even they are similar.</em></p>

<h2>2. "euca-run-instances" Run your VM from available images list.</h2>

<p>In order to be able to launch instances you have to choose flavor and eventaully specify a contextualization script.</p>

<ul>
<li><p>Usually three flavors are available: <em>m1.small, m1.medium and m1.large</em>. According with your quota limits you can choose the flavor you prefer.
Each template has different specification about the resources your VM will have.
Example: </p>

<ol>
<li><strong>m1.small</strong>: 1 VCPU(s), 512 MB RAM, 0  GB DISK </li>
<li><strong>m1.medium</strong>: 2 VCPU(s),   2 GB RAM, 20 GB DISK</li>
<li><strong>m1.large</strong>: 4 VCPU(s),   8 GB RAM, 80 GB DISK </li>
</ol></li>
<li><p>The second (optional) parameter you could need to specify is your contextualization script.
 [q][u][a][l][c][o][s][a] [d][a] [a][g][g][i][u][n][g][e][r][e]</p></li>
</ul>

<p>The command may result, for example:</p>

<pre><code>[user@one-master ~]$ euca-run-instances ami-xxxxxxxx -f path/to/&lt;userdata_file&gt; -t m1.small
</code></pre>

<p>See also: "man euca-run-instances" for more explanations.</p>

<h2>3. "euca-describe-instances" List your running instances.</h2>

<p>As you can easily figure out, this command allows you to list <strong>your</strong> running instances. Here you can see your instances ami-IDs, status, etc.
This is how does it work:</p>

<pre><code>[user@one-master ~]$ euca-describe-instances
RESERVATION default mconcas default
INSTANCE    i-kkkkkkkk  ami-xxxxxxxx    172.16.212.4    172.16.212.4    pending none    3374        m1.small    2013-08-14T14:41:38+02:00   default eki-EA801065    eri-1FEE1144        monitoring-disabled     172.16.212.4
INSTANCE    i-zzzzzzzz  ami-yyyyyyyy    172.16.212.5    172.16.212.5    running none    3375        m1.medium    2013-08-14T14:41:39+02:00   default eki-EA801065    eri-1FEE1144        monitoring-disabled     172.16.212.5
</code></pre>

<p>Note that from here one can obtain your instance ID, which is necessary due to "interaction" through the Euca2ools (e.g. save snapshots, stop, start your instance).</p>

<h2>4. "euca-{start,stop}-instances" Start and Stop instances</h2>
</body>
</html>
